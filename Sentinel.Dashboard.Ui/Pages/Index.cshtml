@page "/"
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
    ViewBag.Title = "Sentinel";
}

@section VueComponents {
    <partial name="Components/DeploymentBadge"/>
    <partial name="Components/DeploymentBar"/>
    <partial name="Components/DeploymentDetails"/>
    <partial name="Components/EnvironmentSelect"/>
    <partial name="Components/NavBar"/>
    <partial name="Components/Search"/>
    <partial name="Components/Spinner"/>
    <partial name="Components/Tooltip"/>
    
    <partial name="Views/AppIssues"/>
    <partial name="Views/AppIssue"/>
    <partial name="Views/DataIssues"/>
    <partial name="Views/DataIssue"/>
    <partial name="Views/Deployments"/>
    <partial name="Views/Environments"/>
    <partial name="Views/Live"/>
}

<nav-bar :environments="spaces" :space="space" :env="env" @@search="(s) => search = s" @@no-environments="loadEnvironments"></nav-bar>

<div class="h-screen">
    <main>
        <router-view :environments="spaces" :space="space" :env="env" :search="search"></router-view>
    </main>
</div>
